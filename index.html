<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src='https://d3js.org/d3.v5.min.js'></script>
        <link rel="stylesheet" type="text/css" href="css/main.css" />
    </head>
    
    <body onload='init()'>
        <h1>World Average Temperature From Mean (C), 1880-2020</h1>
        <div class="text-center">
            <button><</button>
            <button>1880-1920</button>
            <button>1921-1980</button>
            <button>1981-2020</button>
            <button>All Years</button>
            <button>></button>
        </div>
        <svg style="display: block; margin-left: auto; margin-right: auto; width: 500px; height: 500px"></svg>
        <script>
            async function init() {
                // Variables for the method
                width = 400;
                height = 400;
                margin = 50;
                cxs = d3.scaleLinear().domain([1880,2020]).range([0,width]);
                cys = d3.scaleLinear().domain([-1.5,1.5]).range([height,0]);
				console.log("HELLOoooo");
                // get data and wait for result  
                const data = await d3.csv("global_air_ocean_temp_deviation.csv");
				console.log("HELLO");
                // Create an SVG to place scatterplot on for data
                // convert string to integer using '+' notation on the data element
                d3.select("svg")
                    .attr("width",width + 2*margin)
                    .attr("height",height + 2*margin)
                        .append("g")
                        .attr("transform", "translate("+margin+","+margin+")")
                        .selectAll().data(data).enter().append("circle")
                            .attr("cx", function(d) {return cxs(+d.year);})
                            .attr("cy", function(d) {return cys(+d.value);})
                            .attr("r", 10);
				alert("Image is loaded3");
            }
        </script>
    </body>
</html>
